import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{g as d,h as N,l as O,m as V,c as T,b as o,F as W,d as j,t as _,o as D,p as q}from"./index-B7osa4I5.js";const H={class:"game-container"},J={class:"game-header"},Q={class:"game-controls"},Z={class:"difficulty-selector"},ee=["onClick"],te={class:"game-status"},ae={class:"status-box"},le={class:"value"},se=["disabled"],oe={class:"board-wrapper"},ne=["width","height"],t=25,E=200,ie={__name:"SnakeGame",setup(re){const m=d(null),p=d("easy"),k=d(0),r=d(!1),h=d(!1),y=d(!1);let f=[],v=[];const S={easy:{size:600,label:"ÁÆÄÂçï 20√ó20"},medium:{size:750,label:"‰∏≠Á≠â 25√ó25"},hard:{size:900,label:"Âõ∞Èöæ 30√ó30"}},l=N(()=>S[p.value].size),R=e=>S[e].label;let i="right",c=null;const G=()=>y.value?r.value?"Ê∏∏Êàè‰∏≠":"ÈáçÊñ∞ÂºÄÂßã":"ÂºÄÂßãÊ∏∏Êàè",B=()=>{r.value||I()},F=()=>{if(!(!r.value||!y.value))if(h.value=!h.value,h.value){clearInterval(c);const e=m.value.getContext("2d");e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(0,0,l.value,l.value),e.fillStyle="white",e.font="30px Arial",e.textAlign="center",e.fillText("Â∑≤ÊöÇÂÅú",l.value/2,l.value/2)}else c=setInterval(M,E)},I=()=>{r.value=!0,y.value=!0,h.value=!1,k.value=0;const e=Math.floor(l.value/t/2);f=[{x:e,y:e},{x:e-1,y:e},{x:e-2,y:e}],i="right",C(),c&&clearInterval(c),c=setInterval(M,E),P()},C=()=>{v=[];const e=Math.floor(Math.random()*3)+3;for(;v.length<e;){const a={x:Math.floor(Math.random()*(l.value/t)),y:Math.floor(Math.random()*(l.value/t))};f.some(n=>n.x===a.x&&n.y===a.y)||v.push(a)}},U=e=>{r.value?confirm("ÂΩìÂâçÊ∏∏ÊàèÂ∞öÊú™ÁªìÊùüÔºåÁ°ÆÂÆöË¶ÅÂàáÊç¢ÈöæÂ∫¶ÂêóÔºü")&&(p.value=e,I()):p.value=e},M=()=>{const e={...f[0]};switch(i){case"up":e.y--;break;case"down":e.y++;break;case"left":e.x--;break;case"right":e.x++;break}if($(e)){X();return}f.unshift(e);const a=v.findIndex(n=>n.x===e.x&&n.y===e.y);a!==-1?(k.value+=10,v.splice(a,1),v.length===0&&C()):f.pop(),P()},$=e=>e.x<0||e.x>=l.value/t||e.y<0||e.y>=l.value/t?!0:f.some(a=>a.x===e.x&&a.y===e.y),X=()=>{r.value=!1,y.value=!1,clearInterval(c);const e=m.value.getContext("2d");e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(0,0,l.value,l.value),e.fillStyle="white",e.font="30px Arial",e.textAlign="center",e.fillText("Ê∏∏ÊàèÁªìÊùü!",l.value/2,l.value/2),e.fillText(`ÂæóÂàÜ: ${k.value}`,l.value/2,l.value/2+40)},P=()=>{const e=m.value.getContext("2d");e.clearRect(0,0,l.value,l.value),e.fillStyle="#f5f5f5",e.fillRect(0,0,l.value,l.value),e.strokeStyle="#e0e0e0",e.lineWidth=1;for(let a=0;a<=l.value;a+=t)e.beginPath(),e.moveTo(a,0),e.lineTo(a,l.value),e.stroke(),e.beginPath(),e.moveTo(0,a),e.lineTo(l.value,a),e.stroke();f.forEach((a,n)=>{const s=a.x*t,u=a.y*t,Y=(120+n*2)%360;if(e.fillStyle=`hsl(${Y}, 70%, 50%)`,e.beginPath(),e.arc(s+t/2,u+t/2,t/2-2,0,Math.PI*2),e.fill(),n===0){e.fillStyle="white";const z=t/6;let g,w,x,b;switch(i){case"right":g=x=s+t*.75,w=u+t*.3,b=u+t*.7;break;case"left":g=x=s+t*.25,w=u+t*.3,b=u+t*.7;break;case"up":g=s+t*.3,x=s+t*.7,w=b=u+t*.25;break;case"down":g=s+t*.3,x=s+t*.7,w=b=u+t*.75;break}e.beginPath(),e.arc(g,w,z,0,Math.PI*2),e.arc(x,b,z,0,Math.PI*2),e.fill()}}),v.forEach(a=>{const n=a.x*t,s=a.y*t;e.fillStyle="#ff5252",e.beginPath(),e.arc(n+t/2,s+t/2,t/2-2,0,Math.PI*2),e.fill(),e.fillStyle="#4CAF50",e.beginPath(),e.ellipse(n+t/2,s+t/4,t/6,t/8,Math.PI/4,0,Math.PI*2),e.fill()})},A=e=>{if(r.value)switch(e.key){case"ArrowUp":i!=="down"&&(i="up");break;case"ArrowDown":i!=="up"&&(i="down");break;case"ArrowLeft":i!=="right"&&(i="left");break;case"ArrowRight":i!=="left"&&(i="right");break}},L=e=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(e.key)&&e.preventDefault()};return O(()=>{window.addEventListener("keydown",L),window.addEventListener("keydown",A),P()}),V(()=>{window.removeEventListener("keydown",L),window.removeEventListener("keydown",A),c&&clearInterval(c)}),(e,a)=>(D(),T("div",H,[o("div",J,[a[1]||(a[1]=o("h2",null,"Ë¥™ÂêÉËõá",-1)),o("div",Q,[o("div",Z,[(D(),T(W,null,j(S,(n,s)=>o("button",{key:s,class:q({active:p.value===s}),onClick:u=>U(s)},_(R(s)),11,ee)),64))]),o("div",te,[o("div",ae,[a[0]||(a[0]=o("span",{class:"icon"},"üèÜ",-1)),o("span",le,_(k.value),1)]),o("button",{class:"control-btn start",onClick:B},_(G()),1),o("button",{class:"control-btn pause",onClick:F,disabled:!r.value||!y.value},_(h.value?"ÁªßÁª≠":"ÊöÇÂÅú"),9,se)])])]),o("div",oe,[o("canvas",{ref_key:"gameCanvas",ref:m,width:l.value,height:l.value},null,8,ne)])]))}},fe=K(ie,[["__scopeId","data-v-476001c5"]]);export{fe as default};
